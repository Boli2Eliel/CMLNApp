{% extends "partials/base.html" %}

{% include "includes/sidebar.html" %}
{% block content %}

<!--============== SUPERUSER ==============-->
{% if user.is_authenticated and user.is_superuser %}
<!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                <h4 class="m-0"> <span class=" badge badge-light p-1">Communaut√© des Eglises CMLN</span>  <span class=" badge badge-success p-1" style="font-size: 15px;">{{today}}</span></h4>
                </div><!-- /.col -->
                <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Dashboard v1</li>
                </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
            <!-- Small boxes (Stat box) -->
            <div class="row">
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-info">
                    <div class="inner">
                    <h3>{{members_count}}</h3>

                    <p>Total Membres</p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-person"></i>
                    </div>
                    <a href="{% url 'membres' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-danger">
                        <div class="inner">
                        <h3>{{aerds_count}}</h3>
        
                        <p>Total AERDS</p>
                        </div>
                        <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                        </div>
                        <a href="{% url 'aerds' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                    </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-success">
                    <div class="inner">
                    <h3>{{percentage}}<sup style="font-size: 20px">%</sup></h3>

                    <p>Ratio AERD/MEMBRE</p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-warning">
                    <div class="inner">
                    <h3>{{nveaux_venus}}</h3>

                    <p style="font-weight:bold ;">Nouveaux venus <span class="text-uppercase">[{{monthName}} {{today.year}}]</span></p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-person-add"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>


                <!-- ./col -->
            </div>
            <!-- /.row -->
            
            <!-- Main row -->
            <div class="row">
                <!-- Left col -->
                <section class="col-lg-7 connectedSortable">
                <!-- Custom tabs (Charts with tabs)-->
                <div class="card">
                    <div class="card-header">
                    <h3 class="card-title">
                        <i class="fa fa-chart-pie mr-1"></i>
                        Participation/mois [{{today.year}}]
                    </h3>
                    <div class="card-tools">
                        <ul class="nav nav-pills ml-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#sales-chart" data-toggle="tab">Donut</a>
                        </li>
                        </ul>
                    </div>
                    </div><!-- /.card-header -->
                    <div class="card-body">
                    <div class="tab-content p-0">
                        <!-- Morris chart - Sales -->
                        <div class="chart tab-pane active" id="revenue-chart"
                            style="position: relative;">
                            <canvas id="myChartMembresArea"  style="height: 300px;"></canvas>
                        </div>
                        <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                        <canvas id="myChartDonut"  style="height: 320px;"></canvas>
                        </div>
                    </div>
                    </div><!-- /.card-body -->
                </div>
                <!-- /.card -->

                <!-- /.card -->
                </section>
                <!-- /.Left col -->
                <!-- right col (We are only adding the ID to make the widgets sortable)-->
                
                <!-- right col (We are only adding the ID to make the widgets sortable)-->
                <section class="col-lg-5 connectedSortable">
                    <div class="card">
                        <div class="card-header">
                        <h3 class="card-title">
                            <i class="fa fa-chart-pie mr-1"></i>
                            #
                        </h3>
                        <div class="card-tools">
                            <ul class="nav nav-pills ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                </li>
                                
                            </ul>
                        </div>
                        </div><!-- /.card-header -->
                        <div class="card-body">
                        <div class="tab-content p-0">
                            <!-- Morris chart - Sales -->
                            <div class="chart tab-pane active" id="revenue-chart"
                                style="position: relative; height: 300px;">
                                <canvas id="myChart1" width="180" height="300"></canvas>
                                    <script>
                                        var ctx = document.getElementById('myChart1').getContext('2d');
                                        var myChart1 = new Chart(ctx, {
                                            type: 'pie',
                                            data: {
                                                labels: [{% for order in order_categorie %} '{{order}}', {% endfor %}],
                                                datasets: [{
                                                    label: 'Orders',
                                                    data: [{% for order in order_number %} '{{order}}', {% endfor %}],
                                                    backgroundColor: [
                                                        'rgba(255, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(25, 159, 64, 1)',
                                                        <!-- Copy and paste colors for repeat them-->
                                                        'rgba(32, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(22, 106, 112, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(15, 102, 74, 1)',
                                                        'rgba(255, 159, 64, 1)'
                                                    ],
                                                    borderColor: [
                                                        'rgba(255, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(255, 159, 64, 1)',
                                                        'rgba(32, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(232, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(255, 159, 64, 1)'
                                                    ],
                                                    borderWidth: 1
                                                }]
                                            },
                                            options: {
                                                scales: {
                                                    yAxes: [{
                                                        ticks: {
                                                            beginAtZero: true
                                                        }
                                                    }]
                                                }
                                            }
                                        });
                                    </script>

                            </div>
                            <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                            <canvas id="#"  style="height: 320px;"></canvas>
                            </div>
                        </div>
                        </div><!-- /.card-body -->
                    </div>                
                </section>
                    <!-- right col -->

            </div>
            <!-- /.row (main row) -->
            </div><!-- /.container-fluid -->
        </section>
        <!-- /.content -->
    </div>

<!--============== STAFF ============-->
{% elif user.is_authenticated and user.is_staff %}
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                <h4 class="m-0"> <span class=" badge badge-light p-1">Communaut√© des Eglises CMLN</span>  <span class=" badge badge-success p-1" style="font-size: 15px;">{{today}}</span></h4>
                </div><!-- /.col -->
                <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Dashboard v1</li>
                </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
            <!-- Small boxes (Stat box) -->
            <div class="row">
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-info">
                    <div class="inner">
                    <h3>{{members_count}}</h3>

                    <p>Total Membres</p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-person"></i>
                    </div>
                    <a href="{% url 'membres' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-danger">
                        <div class="inner">
                        <h3>{{aerds_count}}</h3>
        
                        <p>Total AERDS</p>
                        </div>
                        <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                        </div>
                        <a href="{% url 'aerds' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                    </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-success">
                    <div class="inner">
                    <h3>{{percentage}}<sup style="font-size: 20px">%</sup></h3>

                    <p>Ratio AERD/MEMBRE</p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-warning">
                    <div class="inner">
                    <h3>{{nveaux_venus}}</h3>

                    <p style="font-weight:bold ;">Nouveaux venus <span class="text-uppercase">[{{monthName}} {{today.year}}]</span></p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-person-add"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>


                <!-- ./col -->
            </div>
            <!-- /.row -->
            
            <!-- Main row -->
            <div class="row">
                <!-- Left col -->
                <section class="col-lg-7 connectedSortable">
                <!-- Custom tabs (Charts with tabs)-->
                <div class="card">
                    <div class="card-header">
                    <h3 class="card-title">
                        <i class="fa fa-chart-pie mr-1"></i>
                        Participation/mois [{{today.year}}]
                    </h3>
                    <div class="card-tools">
                        <ul class="nav nav-pills ml-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#sales-chart" data-toggle="tab">Donut</a>
                        </li>
                        </ul>
                    </div>
                    </div><!-- /.card-header -->
                    <div class="card-body">
                    <div class="tab-content p-0">
                        <!-- Morris chart - Sales -->
                        <div class="chart tab-pane active" id="revenue-chart"
                            style="position: relative;">
                            <canvas id="myChartMembresArea"  style="height: 300px;"></canvas>
                        </div>
                        <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                        <canvas id="myChartDonut"  style="height: 320px;"></canvas>
                        </div>
                    </div>
                    </div><!-- /.card-body -->
                </div>
                <!-- /.card -->

                <!-- /.card -->
                </section>
                <!-- /.Left col -->
                <!-- right col (We are only adding the ID to make the widgets sortable)-->
                
                <!-- right col (We are only adding the ID to make the widgets sortable)-->
                <section class="col-lg-5 connectedSortable">
                    <div class="card">
                        <div class="card-header">
                        <h3 class="card-title">
                            <i class="fa fa-chart-pie mr-1"></i>
                            #
                        </h3>
                        <div class="card-tools">
                            <ul class="nav nav-pills ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                </li>
                                
                            </ul>
                        </div>
                        </div><!-- /.card-header -->
                        <div class="card-body">
                        <div class="tab-content p-0">
                            <!-- Morris chart - Sales -->
                            <div class="chart tab-pane active" id="revenue-chart"
                                style="position: relative; height: 300px;">
                                <canvas id="myChart1" width="180" height="300"></canvas>
                                    <script>
                                        var ctx = document.getElementById('myChart1').getContext('2d');
                                        var myChart1 = new Chart(ctx, {
                                            type: 'pie',
                                            data: {
                                                labels: [{% for order in order_categorie %} '{{order}}', {% endfor %}],
                                                datasets: [{
                                                    label: 'Orders',
                                                    data: [{% for order in order_number %} '{{order}}', {% endfor %}],
                                                    backgroundColor: [
                                                        'rgba(255, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(25, 159, 64, 1)',
                                                        <!-- Copy and paste colors for repeat them-->
                                                        'rgba(32, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(22, 106, 112, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(15, 102, 74, 1)',
                                                        'rgba(255, 159, 64, 1)'
                                                    ],
                                                    borderColor: [
                                                        'rgba(255, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(255, 159, 64, 1)',
                                                        'rgba(32, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(232, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(255, 159, 64, 1)'
                                                    ],
                                                    borderWidth: 1
                                                }]
                                            },
                                            options: {
                                                scales: {
                                                    yAxes: [{
                                                        ticks: {
                                                            beginAtZero: true
                                                        }
                                                    }]
                                                }
                                            }
                                        });
                                    </script>

                            </div>
                            <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                            <canvas id="#"  style="height: 320px;"></canvas>
                            </div>
                        </div>
                        </div><!-- /.card-body -->
                    </div>                
                </section>
                    <!-- right col -->

            </div>
            <!-- /.row (main row) -->
            </div><!-- /.container-fluid -->
        </section>
        <!-- /.content -->
    </div>

<!--============== ADMIN ===========-->
{% elif user.is_authenticated and user.is_admin %} 
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                <h1 class="m-0">Dashboard </h1>
                </div><!-- /.col -->
                <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Dashboard v1</li>
                </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
            <!-- Small boxes (Stat box) -->
            <div class="row">
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-info">
                    <div class="inner">
                    <h3>{{members_count}}</h3>

                    <p>Total Membres</p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-person"></i>
                    </div>
                    <a href="{% url 'membres' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-danger">
                        <div class="inner">
                        <h3>{{aerds_count}}</h3>
        
                        <p>Total AERDS</p>
                        </div>
                        <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                        </div>
                        <a href="{% url 'aerds' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                    </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-success">
                    <div class="inner">
                    <h3>53<sup style="font-size: 20px">%</sup></h3>

                    <p>Bounce Rate</p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>

                <!-- ./col -->
                <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-warning">
                    <div class="inner">
                    <h3>44</h3>

                    <p style="font-weight:bold ;">Nouveaux venus <span class="text-uppercase">[{{monthName}} {{today.year}}]</span></p>
                    </div>
                    <div class="icon">
                    <i class="ion ion-person-add"></i>
                    </div>
                    <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
                </div>


                <!-- ./col -->
            </div>
            <!-- /.row -->
            
            <!-- Main row -->
            <div class="row">
                <!-- Left col -->
                <section class="col-lg-7 connectedSortable">
                <!-- Custom tabs (Charts with tabs)-->
                <div class="card">
                    <div class="card-header">
                    <h3 class="card-title">
                        <i class="fa fa-chart-pie mr-1"></i>
                        Participation/mois [{{today.year}}]
                    </h3>
                    <div class="card-tools">
                        <ul class="nav nav-pills ml-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#sales-chart" data-toggle="tab">Donut</a>
                        </li>
                        </ul>
                    </div>
                    </div><!-- /.card-header -->
                    <div class="card-body">
                    <div class="tab-content p-0">
                        <!-- Morris chart - Sales -->
                        <div class="chart tab-pane active" id="revenue-chart"
                            style="position: relative;">
                            <canvas id="myChartMembresArea"  style="height: 300px;"></canvas>
                        </div>
                        <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                        <canvas id="myChartDonut"  style="height: 320px;"></canvas>
                        </div>
                    </div>
                    </div><!-- /.card-body -->
                </div>
                <!-- /.card -->

                <!-- /.card -->
                </section>
                <!-- /.Left col -->
                <!-- right col (We are only adding the ID to make the widgets sortable)-->
                
                <!-- right col (We are only adding the ID to make the widgets sortable)-->
                <section class="col-lg-5 connectedSortable">
                    <div class="card">
                        <div class="card-header">
                        <h3 class="card-title">
                            <i class="fa fa-chart-pie mr-1"></i>
                            Participation / mois
                        </h3>
                        <div class="card-tools">
                            <ul class="nav nav-pills ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                </li>
                                
                            </ul>
                        </div>
                        </div><!-- /.card-header -->
                        <div class="card-body">
                        <div class="tab-content p-0">
                            <!-- Morris chart - Sales -->
                            <div class="chart tab-pane active" id="revenue-chart"
                                style="position: relative; height: 300px;">
                                <canvas id="myChart1" width="180" height="300"></canvas>
                                    <script>
                                        var ctx = document.getElementById('myChart1').getContext('2d');
                                        var myChart1 = new Chart(ctx, {
                                            type: 'pie',
                                            data: {
                                                labels: [{% for order in order_categorie %} '{{order}}', {% endfor %}],
                                                datasets: [{
                                                    label: 'Orders',
                                                    data: [{% for order in order_number %} '{{order}}', {% endfor %}],
                                                    backgroundColor: [
                                                        'rgba(255, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(25, 159, 64, 1)',
                                                        <!-- Copy and paste colors for repeat them-->
                                                        'rgba(32, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(22, 106, 112, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(15, 102, 74, 1)',
                                                        'rgba(255, 159, 64, 1)'
                                                    ],
                                                    borderColor: [
                                                        'rgba(255, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(255, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(255, 159, 64, 1)',
                                                        'rgba(32, 99, 132, 1)',
                                                        'rgba(54, 162, 235, 1)',
                                                        'rgba(232, 206, 86, 1)',
                                                        'rgba(75, 192, 192, 1)',
                                                        'rgba(153, 102, 255, 1)',
                                                        'rgba(255, 159, 64, 1)'
                                                    ],
                                                    borderWidth: 1
                                                }]
                                            },
                                            options: {
                                                scales: {
                                                    yAxes: [{
                                                        ticks: {
                                                            beginAtZero: true
                                                        }
                                                    }]
                                                }
                                            }
                                        });
                                    </script>

                            </div>
                            <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                            <canvas id="#"  style="height: 320px;"></canvas>
                            </div>
                        </div>
                        </div><!-- /.card-body -->
                    </div>                
                </section>
                    <!-- right col -->

            </div>
            <!-- /.row (main row) -->
            </div><!-- /.container-fluid -->
        </section>
        <!-- /.content -->
    </div>

<!--============== USER WITHOUT EXTENSION =========== "DONE"-->
{% elif user.is_authenticated and not user.extension.id %}
    <div class="content-wrapper">
            <!-- Main content -->
        <section class="content">

            <div class="container-fluid">
                <p class="text-danger"><i class="fa fa-warning fa-2x"></i> Veuillez contacter <a href="mailto:popaulnzongo@gmail.com">l'administrateur</a> afin de passer votre demande d'affiliation √† une extension pour avoir acc√®s aux contenus.</p> 
            </div><!-- /.container-fluid -->
            
        </section>
        <!-- /.content -->
    </div>
<!--============== USER PANEL===========-->
{% else %}
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                {% if user.extension.id == 1 %}
                    <h5 class="m-0"><span class=" badge badge-secondary p-1" style="font-size: 18px;" >{{user.extension.nom}}~[{{user.extension.description}}]</span> <span class=" badge badge-success p-1" style="font-size: 15px;">{{today}}</span></h5>
                {% elif user.extension.id == 2 %}
                <h5 class="m-0"><span class=" badge badge-secondary p-1" style="font-size: 18px;" >CMLN - {{user.extension.description}} </span> <span class=" badge badge-success p-1" style="font-size: 15px;">{{today}}</span></h5>
                {% else %}
                    <h4 class="m-0"> CMLN </h4>
                {% endif %}
                </div>
                <!-- /.col -->
                <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active">Dashboard v1</li>
                </ol>
                </div><!-- /.col -->
            </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </div>
        <!-- /.content-header -->

        {% if user.extension.id == 1 %}
                <!-- Main content -->
                <section class="content">
                    <div class="container-fluid">
                    <!-- Small boxes (Stat box) -->
                    <div class="row">
                        <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-info">
                            <div class="inner">
                            <h3>{{members_count_1}}</h3>

                            <p>Total Membres</p>
                            </div>
                            <div class="icon">
                            <i class="ion ion-person"></i>
                            </div>
                            <a href="{% url 'membres' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                        </div>

                        <!-- ./col -->
                        <div class="col-lg-3 col-6">
                            <!-- small box -->
                            <div class="small-box bg-danger">
                                <div class="inner">
                                <h3>{{aerds_count_1}}</h3>
                
                                <p>Total AERDS</p>
                                </div>
                                <div class="icon">
                                <i class="ion ion-pie-graph"></i>
                                </div>
                                <a href="{% url 'aerds' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>

                        <!-- ./col -->
                        <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-success">
                            <div class="inner">
                            <h3>{{percentage1}}<sup style="font-size: 20px">%</sup></h3>

                            <p>% des AERDS // Membres</p>
                            </div>
                            <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                            </div>
                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                        </div>

                        <!-- ./col -->  
                        <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-warning">
                            <div class="inner">
                            <h3>{{nveaux_venus1}}</h3>

                            <p style="font-weight:bold ;">Nouveaux venus <span class="text-uppercase">[{{monthName}} {{today.year}}]</span></p>
                            </div>
                            <div class="icon">
                            <i class="ion ion-person-add"></i>
                            </div>
                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                        </div>


                        <!-- ./col -->
                    </div>
                    <!-- /.row -->
                    
                    <!-- Main row -->
                    <div class="row">
                        <!-- Left col -->
                        <section class="col-lg-7 connectedSortable">
                        <!-- Custom tabs (Charts with tabs)-->
                        <div class="card">
                            <div class="card-header">
                            <h3 class="card-title">
                                <i class="fa fa-chart-pie mr-1"></i>
                                Participation/mois [{{today.year}}]
                            </h3>
                            <div class="card-tools">
                                <ul class="nav nav-pills ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#sales-chart" data-toggle="tab">Donut</a>
                                </li>
                                </ul>
                            </div>
                            </div><!-- /.card-header -->
                            <div class="card-body">
                            <div class="tab-content p-0">
                                <!-- Morris chart - Sales -->
                                <div class="chart tab-pane active" id="revenue-chart"
                                    style="position: relative; ">
                                    <canvas id="myChartMembresArea"  style="height: 300px;"></canvas>
                                </div>
                                <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                                <canvas id="myChartDonut"  style="height: 320px;"></canvas>
                                </div>
                            </div>
                            </div><!-- /.card-body -->
                        </div>
                        <!-- /.card -->

                        <!-- /.card -->
                        </section>
                        <!-- /.Left col -->
                        <!-- right col (We are only adding the ID to make the widgets sortable)-->
                        
                        <!-- right col (We are only adding the ID to make the widgets sortable)-->
                        <section class="col-lg-5 connectedSortable">
                            <div class="card">
                                <div class="card-header">
                                <h3 class="card-title">
                                    <i class="fa fa-chart-pie mr-1"></i>
                                    Participation / mois
                                </h3>
                                <div class="card-tools">
                                    <ul class="nav nav-pills ml-auto">
                                        <li class="nav-item">
                                            <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                        </li>
                                        
                                    </ul>
                                </div>
                                </div><!-- /.card-header -->
                                <div class="card-body">
                                <div class="tab-content p-0">
                                    <!-- Morris chart - Sales -->
                                    <div class="chart tab-pane active" id="revenue-chart"
                                        style="position: relative; height: 300px;">
                                        <canvas id="myChart1" width="180" height="300"></canvas>
                                            <script>
                                                var ctx = document.getElementById('myChart1').getContext('2d');
                                                var myChart1 = new Chart(ctx, {
                                                    type: 'pie',
                                                    data: {
                                                        labels: [{% for order in order_categorie %} '{{order}}', {% endfor %}],
                                                        datasets: [{
                                                            label: 'Orders',
                                                            data: [{% for order in order_number %} '{{order}}', {% endfor %}],
                                                            backgroundColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(25, 159, 64, 1)',
                                                                <!-- Copy and paste colors for repeat them-->
                                                                'rgba(32, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(22, 106, 112, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(15, 102, 74, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                            borderColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)',
                                                                'rgba(32, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(232, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                            borderWidth: 1
                                                        }]
                                                    },
                                                    options: {
                                                        scales: {
                                                            yAxes: [{
                                                                ticks: {
                                                                    beginAtZero: true
                                                                }
                                                            }]
                                                        }
                                                    }
                                                });
                                            </script>

                                    </div>
                                    <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                                    <canvas id="#"  style="height: 320px;"></canvas>
                                    </div>
                                </div>
                                </div><!-- /.card-body -->
                            </div>                
                        </section>
                            <!-- right col -->

                    </div>
                    <!-- /.row (main row) -->
                    </div><!-- /.container-fluid -->
                </section>
                <!-- /.content -->


        {% elif user.extension.id == 2 %}
                <!-- Main content -->
                <section class="content">
                    <div class="container-fluid">
                    <!-- Small boxes (Stat box) -->
                    <div class="row">
                        <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-info">
                            <div class="inner">
                            <h3>{{members_count_2}}</h3>

                            <p>Total Membres</p>
                            </div>
                            <div class="icon">
                            <i class="ion ion-person"></i>
                            </div>
                            <a href="{% url 'membres' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                        </div>

                        <!-- ./col -->
                        <div class="col-lg-3 col-6">
                            <!-- small box -->
                            <div class="small-box bg-danger">
                                <div class="inner">
                                <h3>{{aerds_count_2}}</h3>
                
                                <p>Total AERDS</p>
                                </div>
                                <div class="icon">
                                <i class="ion ion-pie-graph"></i>
                                </div>
                                <a href="{% url 'aerds' %}" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                            </div>
                        </div>

                        <!-- ./col -->
                        <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-success">
                            <div class="inner">
                            <h3>{{percentage2}}<sup style="font-size: 20px">%</sup></h3>

                            <p>% des AERDS // Membres</p>
                            </div>
                            <div class="icon">
                            <i class="ion ion-stats-bars"></i>
                            </div>
                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                        </div>

                        <!-- ./col -->
                        <div class="col-lg-3 col-6">
                        <!-- small box -->
                        <div class="small-box bg-warning">
                            <div class="inner">
                            <h3>{{nveaux_venus2}}</h3>

                            <p style="font-weight:bold ;">Nouveaux venus <span class="text-uppercase">[{{monthName}} {{today.year}}]</span></p>
                            </div>
                            <div class="icon">
                            <i class="ion ion-person-add"></i>
                            </div>
                            <a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                        </div>


                        <!-- ./col -->
                    </div>
                    <!-- /.row -->
                    
                    <!-- Main row -->
                    <div class="row">
                        <!-- Left col -->
                        <section class="col-lg-7 connectedSortable">
                        <!-- Custom tabs (Charts with tabs)-->
                        <div class="card">
                            <div class="card-header">
                            <h3 class="card-title">
                                <i class="fa fa-chart-pie mr-1"></i>
                                Participation/mois [{{today.year}}]
                            </h3>
                            <div class="card-tools">
                                <ul class="nav nav-pills ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#sales-chart" data-toggle="tab">Donut</a>
                                </li>
                                </ul>
                            </div>
                            </div><!-- /.card-header -->
                            <div class="card-body">
                            <div class="tab-content p-0">
                                <!-- Morris chart - Sales -->
                                <div class="chart tab-pane active" id="revenue-chart"
                                    style="position: relative;">
                                    <canvas id="myChartMembresArea"  style="height: 300px;"></canvas>
                                </div>
                                <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                                <canvas id="myChartDonut"  style="height: 320px;"></canvas>
                                </div>
                            </div>
                            </div><!-- /.card-body -->
                        </div>
                        <!-- /.card -->

                        <!-- /.card -->
                        </section>
                        <!-- /.Left col -->
                        <!-- right col (We are only adding the ID to make the widgets sortable)-->
                        
                        <!-- right col (We are only adding the ID to make the widgets sortable)-->
                        <section class="col-lg-5 connectedSortable">
                            <div class="card">
                                <div class="card-header">
                                <h3 class="card-title">
                                    <i class="fa fa-chart-pie mr-1"></i>
                                    Participation / mois
                                </h3>
                                <div class="card-tools">
                                    <ul class="nav nav-pills ml-auto">
                                        <li class="nav-item">
                                            <a class="nav-link active" href="#revenue-chart" data-toggle="tab">Area</a>
                                        </li>
                                        
                                    </ul>
                                </div>
                                </div><!-- /.card-header -->
                                <div class="card-body">
                                <div class="tab-content p-0">
                                    <!-- Morris chart - Sales -->
                                    <div class="chart tab-pane active" id="revenue-chart"
                                        style="position: relative; height: 300px;">
                                        <canvas id="myChart1" width="180" height="300"></canvas>
                                            <script>
                                                var ctx = document.getElementById('myChart1').getContext('2d');
                                                var myChart1 = new Chart(ctx, {
                                                    type: 'pie',
                                                    data: {
                                                        labels: [{% for order in order_categorie %} '{{order}}', {% endfor %}],
                                                        datasets: [{
                                                            label: 'Orders',
                                                            data: [{% for order in order_number %} '{{order}}', {% endfor %}],
                                                            backgroundColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(25, 159, 64, 1)',
                                                                <!-- Copy and paste colors for repeat them-->
                                                                'rgba(32, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(22, 106, 112, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(15, 102, 74, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                            borderColor: [
                                                                'rgba(255, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(255, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)',
                                                                'rgba(32, 99, 132, 1)',
                                                                'rgba(54, 162, 235, 1)',
                                                                'rgba(232, 206, 86, 1)',
                                                                'rgba(75, 192, 192, 1)',
                                                                'rgba(153, 102, 255, 1)',
                                                                'rgba(255, 159, 64, 1)'
                                                            ],
                                                            borderWidth: 1
                                                        }]
                                                    },
                                                    options: {
                                                        scales: {
                                                            yAxes: [{
                                                                ticks: {
                                                                    beginAtZero: true
                                                                }
                                                            }]
                                                        }
                                                    }
                                                });
                                            </script>

                                    </div>
                                    <div class="chart tab-pane" id="sales-chart" style="position: relative; height: 300px;">
                                    <canvas id="#"  style="height: 320px;"></canvas>
                                    </div>
                                </div>
                                </div><!-- /.card-body -->
                            </div>                
                        </section>
                            <!-- right col -->

                    </div>
                    <!-- /.row (main row) -->
                    </div><!-- /.container-fluid -->
                </section>
                <!-- /.content -->

    {% endif %}
    </div>
{% endif %}

<!===================================================== # CHART MEMBRES AREA===========================================-->
<script type="text/javascript">
    {% if user.extension.id == none %}
    const labels = {{monthNumber|safe}};
    {% elif user.extension.id == 1 %}
    const labels = {{monthNumber1|safe}};
    {% elif user.extension.id == 2 %}
    const labels = {{monthNumber2|safe}};
    {% endif %}

    const data = {
    labels: labels,
    datasets: [{
        label: '#Participants par mois',
        backgroundColor: [
            'rgba(255, 127, 80, 0.7)',
            'rgba(0, 255, 255, 0.7 )',
            'rgba( 220, 20, 60, 0.7)',
            'rgba(255, 140, 0, 0.7)',
            'rgba(0, 128, 0, 0.7)',
            'rgba(105, 105, 105, 0.7)',
            'rgba(255, 106, 185, 0.7)',
            'rgba(75, 192, 192, 0.7)',
            'rgba(153, 102, 255, 0.7)',
            'rgba(25, 195, 46, 0.7)',
            'rgba(75, 129, 129, 0.7)',
            'rgba(153, 120, 215, 0.7)',
            

        ],
        borderColor: 'rgb(75, 192, 192)',
        {% if user.extension.id == none %}
            data: {{totalParticipants|safe}},
        {% elif user.extension.id == 1 %}
            data: {{totalParticipants1|safe}},
        {% elif user.extension.id == 2 %}
        data: {{totalParticipants2|safe}},
        {% endif %}
        fill: false, 
        tension: 0,
    }]
    };

    const config = {
        type: 'line',
        data,
        options:{}
    };

    var myChartMembresArea = new Chart(
        document.getElementById('myChartMembresArea'),
        config
    );
</script>



{% endblock %}